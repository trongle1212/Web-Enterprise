@using Core.WEB.MVC.Resources
@model Core.DTO.Model.HomeViewModels
@using Authentication
@using Core.Common.Enum
@using Core.Common.Extentions
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    var listBanner = UserServices.GetListBanner();
    if (listBanner == null)
    {
        listBanner = new List
        <Core.DTO.Banner.BannerDTO>
        ();
    }
    var info = System.Globalization.CultureInfo.GetCultureInfo("vi-VN");
}
<style>
    .table td, .table th {
        vertical-align: middle !important;
    }
</style>
<div class="page-wrapper-light-green">
    <!--====================  hero slider area ====================-->
    <div class="hero-slider-area mb-40">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <!--=======  hero slider wrapper  =======-->
                    <div class="hero-slider-wrapper">
                        <div class="ht-slick-slider"
                             data-slick-setting='{
                     "slidesToShow": 1,
                     "slidesToScroll": 1,
                     "arrows": false,
                     "dots": true,
                     "autoplay": true,
                     "autoplaySpeed": 5000,
                     "speed": 1000,
                     "fade": true
                     }'
                             data-slick-responsive='[
                     {"breakpoint":1501, "settings": {"slidesToShow": 1} },
                     {"breakpoint":1199, "settings": {"slidesToShow": 1} },
                     {"breakpoint":991, "settings": {"slidesToShow": 1} },
                     {"breakpoint":767, "settings": {"slidesToShow": 1} },
                     {"breakpoint":575, "settings": {"slidesToShow": 1} },
                     {"breakpoint":479, "settings": {"slidesToShow": 1} }
                     ]'>
                            @if (listBanner != null && listBanner.Any())
                            {
                                int _index = 1;
                                foreach (var item in listBanner)
                                {
                                    <!--=======  single slider item  =======-->
                                    <div class="single-slider-item">
                                        <div class="hero-slider-item-wrapper hero-slider-bg" style="background-image: url(@Url.Content(item.ImageURL)">
                                            <div class="hero-slider-content pl-60 pl-sm-30">
                                                <p class="slider-title slider-title--small">CAM CAO PHONG</p>
                                                <p class="slider-title slider-title--small-bold">HỆ THỐNG QUẢN LÝ THÀNH VIÊN CAM CAO PHONG</p>
                                                <p class="slider-title slider-title--big-light">@General.Topservice</p>
                                                @*<a class="theme-button hero-slider-button" href="@Url.Action("Index", "Product")">@General.ShoppingNow</a>*@
                                            </div>
                                        </div>
                                    </div>
                                    _index = _index + 1;
                                    <!--=======  single slider item  =======-->
                                }
                            }
                        </div>
                    </div>
                    <!--=======  End of hero slider wrapper  =======-->
                </div>
            </div>
        </div>
    </div>
    <!--====================  End of hero slider area  ====================-->
    <!--====================  product single row counter slider area ====================-->
    <div class="product-single-row-slider-area mb-40">
        <div class="container" style="border: 1px solid #78b43d !important">
            <div class="row align-items-center" style="background-color: #f5f5f5;">
                <div class="col-lg-8">
                    <!--=======  section title  =======-->
                    <div class="section-title mb-20">
                        <h2>Tin tức</h2>
                    </div>
                    <!--=======  End of section title  =======-->
                </div>
                <div class="col-lg-4">
                    <!--=======  section title  =======-->
                    <div class="section-title mb-20">
                        <h2>Tra cứu chứng nhận</h2>
                    </div>
                    <!--=======  End of section title  =======-->
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8" style="border: 1px solid #78b43d; padding: 13px; border-left-color: snow; border-right-color: snow; border-bottom-color: snow; border-top-color: snow;">
                    @if (Model.Articles != null && Model.Articles.Any())
                    {
                        foreach (var item in Model.Articles.Skip(0).Take(3))
                        {
                            <!--=======  single blog post  =======-->
                            <div class="single-blog-post mb-40">
                                <div class="row">
                                    <div class="col-md-5">
                                        <div class="single-blog-post-media mb-sm-20">
                                            <div class="image">
                                                <a href="@Url.Action("Detail", "Blog",new { q = item.Alias })"><img src="@Url.Content(item.ImageURL)" class="img-fluid" alt="" style="border-radius: 3px; "></a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-7">
                                        <div class="single-blog-post-content">
                                            <h3 class="post-title"> <a href="@Url.Action("Detail", "Blog",new { q = item.Alias })">@string.Format("{0}", item.Title.Length < 63 ? item.Title : item.Title.Substring(0, 63) + "...")</a></h3>
                                            <div class="post-meta">
                                                <p><span><i class="fa fa-user-circle"></i> </span> <a href="#">@item.EmployeeName</a> <span class="separator">|</span> <span><i class="fa fa-calendar"></i> <a href="#">@item.CreatedAt.ToString("dd.MM.yyyy")</a></span></p>
                                            </div>
                                            @*<p class="post-excerpt">
                                                    @string.Format("{0}", item.ShortDescription.Length < 89 ? item.ShortDescription : item.ShortDescription.Substring(0, 89) + "...")
                                                </p>*@
                                            <a href="@Url.Action("Detail", "Blog",new { q = item.Alias })" class="blog-readmore-btn">Xem thêm</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--=======  End of single blog post  =======-->
                        }
                    }
                    <!--=======  End of product single row slider wrapper  =======-->
                </div>
                <div class="col-lg-4" style="border: 1px solid #78b43d; padding: 13px; border-right-color: snow;  border-bottom-color: snow; border-top-color: snow; ">
                    @if (Model.Certifications != null && Model.Certifications.Any())
                    {
                        foreach (var item in Model.Certifications.Skip(0).Take(8))
                        {
                            <!--=======  single blog post  =======-->
                            <div class="single-blog-post mb-35">
                                <div class="row">
                                    <div class="col-md-7">
                                        <div class="single-blog-post-media mb-sm-20">
                                            <div class="image">
                                                <a href="#"><strong>@item.FullName</strong></a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-5">
                                        <div class="single-blog-post-content">
                                            <a href="@Url.Action("CertificationDetail", "Home", new { q = item.Id })" class="theme-button list-cart-button" style="background-color: #49b14d !important">Chi tiết</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--=======  End of single blog post  =======-->
                        }
                        <div class="row">
                            <div class="col-md-12">
                                <div class="single-blog-post-content" style="text-align: center !important; ">
                                    <a href="@Url.Action("Index", "Certification")" class="theme-button list-cart-button" style="background-color: #49b14d !important; font-size: 13px !important; width: 45% !important; ">Xem thêm</a>
                                </div>
                            </div>
                        </div>
                    }
                    <!--=======  End of product single row slider wrapper  =======-->
                </div>
            </div>
        </div>
    </div>
    <!--====================  End of product single row counter slider area  ====================-->
    <!--====================  product single row counter slider area ====================-->
    <div class="product-single-row-slider-area mb-40">
        <div class="container" style="border: 1px solid #78b43d !important">
            <div class="row align-items-center" style="background-color: #f5f5f5;">
                <div class="col-lg-8" style="border: 1px solid #78b43d; border-left-color: snow; border-bottom-color: snow; border-top-color: snow; border-right-color: snow; ">
                    <!--=======  section title  =======-->
                    <div class="section-title mb-20">
                        <h2>Sự kiện</h2>
                    </div>
                    <!--=======  End of section title  =======-->
                </div>
                <div class="col-lg-4">
                    <!--=======  section title  =======-->
                    <div class="section-title mb-20">
                        <h2>Trạng thái hồ sơ</h2>
                    </div>
                    <!--=======  End of section title  =======-->
                </div>
            </div>
            <div class="row">
                <div class="col-lg-8" style="border: 1px solid #78b43d; padding: 13px; border-left-color: snow; border-right-color: snow;  border-bottom-color: snow; border-top-color: snow; border-right-color: snow;">
                    @if (Model.Events != null && Model.Events.Any())
                    {
                        foreach (var item in Model.Events.Skip(0).Take(2))
                        {
                            <!--=======  single blog post  =======-->
                            <div class="single-blog-post mb-40">
                                <div class="row">
                                    <div class="col-md-5">
                                        <div class="single-blog-post-media mb-sm-20">
                                            <div class="image">
                                                <a href="@Url.Action("Detail", "Event",new { q = item.AliasVi })"><img src="@Url.Content(item.ImageURL)" class="img-fluid" alt="" style="border-radius: 3px; "></a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-7">
                                        <div class="single-blog-post-content">
                                            <h3 class="post-title"> <a href="@Url.Action("Detail", "Event",new { q = item.AliasVi })">@string.Format("{0}", item.TitleVi.Length < 63 ? item.TitleVi : item.TitleVi.Substring(0, 63) + "...")</a></h3>
                                            <div class="post-meta">
                                                <p><span><i class="fa fa-user-circle"></i> </span> <a href="#">@item.EmployeeName</a> <span class="separator">|</span> <span><i class="fa fa-calendar"></i> <a href="#">@item.CreatedAt.ToString("dd.MM.yyyy")</a></span></p>
                                            </div>
                                            @*<p class="post-excerpt">
                                                    @string.Format("{0}", item.ShortDescription.Length < 89 ? item.ShortDescription : item.ShortDescription.Substring(0, 89) + "...")
                                                </p>*@
                                            <a href="@Url.Action("Detail", "Event",new { q = item.AliasVi })" class="blog-readmore-btn">Xem thêm</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--=======  End of single blog post  =======-->
                        }
                    }
                    <!--=======  End of product single row slider wrapper  =======-->
                </div>
                <div class="col-lg-4" style="border: 1px solid #78b43d; padding: 13px; border-right-color: snow; border-bottom-color: snow; border-top-color: snow; ">
                    @if (Model.Files != null && Model.Files.Any())
                    {
                        foreach (var item in Model.Files.Skip(0).Take(5))
                        {
                            var colorName = "";

                            if (item.Status == (byte)EnumCommon.EFileStatus.InProcess)
                            {
                                colorName = "color-process";
                            }
                            else if (item.Status == (byte)EnumCommon.EFileStatus.Approved1)
                            {
                                colorName = "color-approved1";
                            }
                            else if (item.Status == (byte)EnumCommon.EFileStatus.Approved2)
                            {
                                colorName = "color-approved2";
                            }
                            else if (item.Status == (byte)EnumCommon.EFileStatus.Improved)
                            {
                                colorName = "color-require";
                            }
                            else if (item.Status == (byte)EnumCommon.EFileStatus.Done)
                            {
                                colorName = "color-finished";
                            }
                            else if (item.Status == (byte)EnumCommon.EFileStatus.Cancel)
                            {
                                colorName = "color-cancel";
                            }
                            <!--=======  single blog post  =======-->
                            <div class="single-blog-post mb-40">
                                <div class="row">
                                    <div class="col-md-7">
                                        <div class="single-blog-post-media mb-sm-20">
                                            <div class="image">
                                                <a href="#"><strong>@item.FullName</strong></a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-5">
                                        <div class="single-blog-post-content">
                                            <p class="@colorName">
                                                @ExtensionClass.GetEnumDescription((EnumCommon.EFileStatus)item.Status)
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--=======  End of single blog post  =======-->
                        }
                        <div class="row">
                            <div class="col-md-12">
                                <div class="single-blog-post-content" style="text-align: center !important; ">
                                    <a href="@Url.Action("Index", "ListFile")" class="theme-button list-cart-button" style="background-color: #49b14d !important; font-size: 13px !important; width: 45% !important; ">Xem thêm</a>
                                </div>
                            </div>
                        </div>
                    }
                    <!--=======  End of product single row slider wrapper  =======-->
                </div>
            </div>
        </div>
    </div>
    <!--====================  End of product single row counter slider area  ====================-->
</div>
<script>
    startTime();
    function startTime() {
        var today = new Date();
        var h = today.getHours();
        var m = today.getMinutes();
        var s = today.getSeconds();
        m = checkTime(m);
        s = checkTime(s);
        document.getElementById('idHour').innerHTML = h;
        document.getElementById('idMinute').innerHTML = m;
        document.getElementById('idSeconds').innerHTML = s;
        var t = setTimeout(startTime, 500);
    }
    function checkTime(i) {
        if (i < 10) { i = "0" + i };  // add zero in front of numbers < 10
        return i;
    }
</script>